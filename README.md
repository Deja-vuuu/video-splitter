# Video Splitter - 视频等分剪裁工具

一个纯前端的视频等分剪裁工具，基于 FFmpeg.wasm 在浏览器中完成视频处理，无需服务器，保护用户隐私。

## 功能特性

- **视频导入** — 支持本地文件上传（拖拽/点击）和在线视频直链加载
- **等分剪裁** — 自定义每段时长，自动计算分割段数
- **分辨率调整** — 支持 1080p / 720p / 480p / 360p 预设及自定义分辨率
- **实时预览** — 内置播放器，显示文件名、大小、时长、分辨率等元数据
- **进度反馈** — 逐段处理进度百分比实时展示
- **批量下载** — 支持单个或全部片段一键下载

## 支持格式

输入：MP4、MOV、MKV、AVI、WebM

输出：保持原始格式（直接复制流）或统一输出 MP4（重编码时）

## 技术栈

| 组件 | 说明 |
|------|------|
| [FFmpeg.wasm](https://github.com/nicedoc/ffmpeg.wasm) v0.12 | 浏览器端视频处理引擎 |
| HTML5 + CSS3 + ES6+ | 纯前端，无框架依赖 |
| Web Workers | FFmpeg 后台线程处理 |
| WebAssembly | 高性能视频编解码 |

## 快速开始

本项目是单文件应用，只需一个 `index.html`。

### 本地运行

由于使用了 Web Workers 和 WebAssembly，需要通过 HTTP 服务访问：

```bash
# 使用 Python
python3 -m http.server 8080

# 或使用 Node.js
npx serve .
```

然后在浏览器中打开 `http://localhost:8080`。

### 部署

将 `index.html` 上传到任意静态文件托管服务即可（Nginx、GitHub Pages、Vercel 等）。

## 使用流程

1. 打开页面，等待 FFmpeg 引擎加载完成
2. 上传本地视频文件或输入在线视频直链
3. 预览视频信息，设置每段时长和输出分辨率
4. 点击「开始剪裁」，等待处理完成
5. 下载所需的视频片段

## 编码参数

当需要重编码时（如调整分辨率），使用以下参数：

- 视频编码器：`libx264`
- 质量参数：`-crf 23`
- 编码预设：`fast`
- 音频编码：`aac`，码率 `128k`

当保持原始分辨率时，使用 `-c copy` 直接复制流，速度更快。

## 浏览器兼容性

需要支持 WebAssembly 和 Web Workers 的现代浏览器：

- Chrome 79+
- Firefox 72+
- Safari 14.1+
- Edge 79+

## 注意事项

- 首次使用需从 CDN 下载 FFmpeg WASM 核心（约 30MB），之后浏览器会缓存
- 视频处理受浏览器内存限制，超大文件可能导致内存不足
- 在线视频直链需支持 CORS 跨域访问
- 所有处理均在本地浏览器中完成，视频数据不会上传到任何服务器

## 许可证

MIT
